%% The following is a directive for TeXShop to indicate the main file
%%!TEX root = diss.tex

\pgfplotstableread{
  Scenarios {I never ask myself this question} 2 Neutral 4 {I often ask myself this question}
  1  2	8	4	29	24
  2  1	9	7	19	31
  3  9	19	12	19	8
  4  4	15	17	23	8
  5  3	8	10	28	18
  6  11	11	12	13	20
  7  3	18	11	15	20
  8  3	9	23	13	19
  9  3	7	13	14	30
}
\testdata

\definecolor{clr1}{RGB}{158, 61, 34}
\definecolor{clr2}{RGB}{242, 136, 45}
\definecolor{clr3}{RGB}{177, 181, 182}
\definecolor{clr4}{RGB}{117, 164, 201}
\definecolor{clr5}{RGB}{42, 87, 131}

\begin{tikzpicture}
  \begin{axis}[
    width=\columnwidth,
    xbar stacked,   % Stacked horizontal bars
    bar width={15.0pt},
    xmin=0,         % Start x axis at 0
    ytick=data,     % Use as many tick labels as y coordinates
    legend style={at={(axis cs:65,0.2)},anchor=south},
    yticklabels from table={\testdata}{Scenarios}  % Get the labels from the Label column of the \datatable
  ]
  \addplot [fill=clr1] table [x={I never ask myself this question}, meta=Scenarios,y expr=\coordindex] {\testdata};
  \addplot [fill=clr2] table [x=2, meta=Scenarios,y expr=\coordindex] {\testdata};
  \addplot [fill=clr3,
      point meta=x
      % nodes near coords,
      % nodes near coords align={anchor=west},
      % every node near coord/.append style={
      %     black,
      %     fill=white,
      %     fill opacity=0.75,
      %     text opacity=1,
      %     outer sep=\pgflinewidth % so the label fill doesn't overlap the plot
      % }
  ] table [x=Neutral, meta=Scenarios,y expr=\coordindex] {\testdata};
  \addplot [fill=clr4] table [x=4, meta=Scenarios,y expr=\coordindex] {\testdata};
  \addplot [fill=clr5] table [x={I often ask myself this question}, meta=Scenarios,y expr=\coordindex] {\testdata};
  % \legend{I never ask myself this question, 2, Neutral, 3, {I often ask myself this question}}
  \end{axis}
\end{tikzpicture}

