%% The following is a directive for TeXShop to indicate the main file
%%!TEX root = diss.tex

\newcommand{\cardamount}{40}

\chapter{User Study}
\label{ch:UserStudy}

In Chapter \ref{ch:Tool}, we described the design and implementation of
\toolname{} with a particular focus on how it might be used as part of a
software development workflow, and its user interface.
\par The development of \toolname{} was guided by two research questions.
First, we ask whether enriching data-flow and reachability information with 
additional context (\eg displaying a node in a data-flow analysis in its 
original context in code) has an effect on the cognitive load of software 
developers in a program comprehension task.
Second, we ask whether the same enrichment of data-flow and reachability
information has an effect on the completeness of program comprehension tasks
performed by developers.
To investigate these questions, we conducted a user study where participants 
were asked to complete two program comprehension tasks in the source code of 
the Apache NetBeans\footnote{\url{https://netbeans.apache.org}} \ac{IDE} with 
and without the ability to use \toolname{}.
\par We discuss the tasks in Section \ref{sec:Tasks} and describe the 
experimental design of the study and the recruitment of our subjects in Section
\ref{sec:ExperimentalDesign}, and Section \ref{sec:UserStudyRecruitment}, 
respectively.
Finally, we conclude with a discussion of our results in Section
\ref{sec:UserStudyResults}.


\section{Tasks}
\label{sec:Tasks}

Each task in our study is based on a high-level reachability question. 
Task 1 is an instantiation of the question type: ``How was \texttt{x} created?"
where \texttt{x} is a method parameter, and Task 2 conforms to the question
type: ``How is \texttt{y} modified?" where \texttt{y} is a local variable.
Within each task, we also ask a number of questions that require our subjects
to manually traverse the data-flow result provided by IntelliJ IDEA and
\toolname{} and identify relevant values.
These are examples of reachability questions of the form \findq{}, where
$SC$ is some search criteria and $TR$ is a set of traces.

\par We selected the Apache NetBeans \ac{IDE} in the design of our study after 
taking into account its complexity and our subjects' perceived familiarity with
\acp{IDE}.
First, we wanted to evaluate \toolname{} and investigate our research questions
in a system that would be somewhat comparable to the real-world code bases
encountered by professional software developers.
The relative size and complexity of the NetBeans project (7.4MM SLOC, 38K Java
files), and its popularity as an open-source software project \dots
% TODO: say something about why this meets our needs...
% Also say something about how it's useful to have a project that developers
% are at least mentally familiar with (they probably know what an IDE is).

\subsection{Task 1}
\label{subsec:TaskOne}

\subsection{Task 2}
\label{subsec:TaskTwo}

\section{Experimental Design}
\label{sec:ExperimentalDesign}

We employed four treatments within our study, varying the order in which tasks
were presented to our subjects and the ability to use \toolname{}.
This design was adopted in an attempt to minimize transfer learning across
tasks, and to help mitigate any causal relationships between specific tasks
and our tool. 

\section{Participant Recruitment}
\label{sec:UserStudyRecruitment}

We sought out subjects who ideally had experience working as professional
software developers.
Our study was advertised on Twitter and on personal mailing lists.
Subjects who reported writing software at a frequency of less than once a month 
were excluded from our study.
Each subject was provided compensation in the form of a raffle entry to win
one out of five gift cards to an e-commerce site valued at \$\cardamount{} each.

\section{Results}
\label{sec:UserStudyResults}

\subsection{Participant Demographics}
\label{subsec:UserStudyDemographics}

\endinput


TODOs

1. Have I used SLOC (source lines of code) before? Do I need to define a new
   acronym?
2. Is the counting software I use (cloc) okay?
3. Is # files + SLOC a decent proxy for complexity?

